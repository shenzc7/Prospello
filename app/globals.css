@tailwind base;
@tailwind components;
@tailwind utilities;

/* Force light theme */
html {
    color-scheme: light;
}

/* Ensure light theme is always applied */
html.dark {
    color-scheme: light !important;
}

/* Prevent undefined className errors */
* {
    box-sizing: border-box;
}

/* Ensure all elements have defined dimensions */
body {
    margin: 0;
    font-family: inherit;
}

@layer base {
    :root {
        --background: 214 33% 98%;
        --foreground: 222 47% 11%;

        --card: 0 0% 100%;
        --card-foreground: 222 47% 11%;

        --popover: 0 0% 100%;
        --popover-foreground: 222 47% 11%;

        --primary: 164 72% 32%;
        --primary-foreground: 210 40% 98%;

        --secondary: 210 40% 96%;
        --secondary-foreground: 222 47% 11%;

        --muted: 210 32% 94%;
        --muted-foreground: 217 15% 45%;

        --accent: 35 95% 90%;
        --accent-foreground: 24 85% 32%;

        --destructive: 0 70% 55%;
        --destructive-foreground: 0 0% 100%;

        --border: 212 28% 86%;
        --input: 212 28% 86%;
        --ring: 164 72% 32%;

        --radius: 0.65rem;

        --okr-green: 156 72% 34%;
        --okr-amber: 40 97% 52%;
        --okr-red: 0 80% 52%;
    }

    .dark {
        --background: 222 47% 6%;
        --foreground: 210 40% 96%;

        --card: 222 47% 9%;
        --card-foreground: 210 40% 96%;

        --popover: 222 47% 9%;
        --popover-foreground: 210 40% 96%;

        --primary: 162 78% 46%;
        --primary-foreground: 222 47% 8%;

        --secondary: 220 20% 16%;
        --secondary-foreground: 210 40% 96%;

        --muted: 220 20% 16%;
        --muted-foreground: 214 12% 70%;

        --accent: 42 95% 62%;
        --accent-foreground: 222 47% 8%;

        --destructive: 0 72% 52%;
        --destructive-foreground: 222 47% 8%;

        --border: 220 20% 22%;
        --input: 220 20% 22%;
        --ring: 162 78% 46%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    :focus-visible {
        outline: 2px solid hsl(var(--primary));
        outline-offset: 2px;
        box-shadow: 0 0 0 2px hsl(var(--primary) / 0.35);
    }

    a:focus-visible,
    button:focus-visible,
    input:focus-visible,
    select:focus-visible,
    textarea:focus-visible {
        border-color: hsl(var(--primary));
    }

    body {
        @apply bg-background text-foreground;
        font-feature-settings: "rlig" 1, "calt" 1;
        background-image:
            radial-gradient(circle at 10% 20%, rgba(16, 185, 129, 0.06), transparent 25%),
            radial-gradient(circle at 90% 10%, rgba(248, 180, 0, 0.05), transparent 20%),
            radial-gradient(circle at 30% 80%, rgba(14, 165, 233, 0.06), transparent 25%);
    }
}

/* Premium Gradients & Utilities */
.bg-grid-white {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(255 255 255 / 0.04)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
}

.bg-dot-white {
    background-image: radial-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
}

.animate-fade-in {
    animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.glass-card {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.surface-panel {
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(245, 250, 255, 0.85));
    box-shadow:
        0 20px 70px rgba(15, 118, 110, 0.08),
        0 1px 0 rgba(255, 255, 255, 0.6) inset;
}

.progress-high { color: hsl(var(--okr-green)); }
.progress-medium { color: hsl(var(--okr-amber)); }
.progress-low { color: hsl(var(--okr-red)); }

.traffic-green { background-color: rgba(16, 185, 129, 0.12); color: #047857; border-color: rgba(16, 185, 129, 0.25); }
.traffic-yellow { background-color: rgba(234, 179, 8, 0.12); color: #92400e; border-color: rgba(234, 179, 8, 0.25); }
.traffic-red { background-color: rgba(239, 68, 68, 0.12); color: #b91c1c; border-color: rgba(239, 68, 68, 0.25); }

.card-spotlight {
    position: relative;
    overflow: hidden;
}

.card-spotlight::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 30% 20%, rgba(14, 165, 233, 0.12), transparent 45%),
                radial-gradient(circle at 80% 0%, rgba(16, 185, 129, 0.12), transparent 35%);
    pointer-events: none;
}

@layer utilities {
    .shadow-soft {
        box-shadow:
            0 12px 40px rgba(15, 118, 110, 0.08),
            0 1px 0 rgba(255, 255, 255, 0.4) inset;
    }

    .backdrop-blur-xs {
        backdrop-filter: blur(6px);
    }
}
